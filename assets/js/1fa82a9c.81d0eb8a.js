"use strict";(self.webpackChunkpush_website=self.webpackChunkpush_website||[]).push([[82893],{3905:function(t,e,n){n.d(e,{Zo:function(){return p},kt:function(){return f}});var i=n(67294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},a=Object.keys(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var r=i.createContext({}),c=function(t){var e=i.useContext(r),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},p=function(t){var e=c(t.components);return i.createElement(r.Provider,{value:e},t.children)},u="mdxType",h={inlineCode:"code",wrapper:function(t){var e=t.children;return i.createElement(i.Fragment,{},e)}},m=i.forwardRef((function(t,e){var n=t.components,o=t.mdxType,a=t.originalType,r=t.parentName,p=s(t,["components","mdxType","originalType","parentName"]),u=c(n),m=o,f=u["".concat(r,".").concat(m)]||u[m]||h[m]||a;return n?i.createElement(f,l(l({ref:e},p),{},{components:n})):i.createElement(f,l({ref:e},p))}));function f(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var a=n.length,l=new Array(a);l[0]=m;var s={};for(var r in e)hasOwnProperty.call(e,r)&&(s[r]=e[r]);s.originalType=t,s[u]="string"==typeof t?t:o,l[1]=s;for(var c=2;c<a;c++)l[c]=n[c];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},87226:function(t,e,n){n.r(e),n.d(e,{assets:function(){return p},contentTitle:function(){return r},default:function(){return f},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return u}});var i=n(87462),o=n(63366),a=(n(67294),n(3905)),l=["components"],s={slug:"getting-started-with-push-sdk-uiweb-api",title:"Getting Started With Push SDK: uiweb API\ud83d\udee0\ufe0f",authors:["push"],image:"./cover-image.webp",tags:["Web3","Developer","Blockchain Development","Web3 Notifications"]},r=void 0,c={permalink:"/blog/getting-started-with-push-sdk-uiweb-api",source:"@site/blog/2023-02-21-getting-started-with-push-sdk/index.md",title:"Getting Started With Push SDK: uiweb API\ud83d\udee0\ufe0f",description:"Cover image of Getting Started With Push SDK: uiweb API\ud83d\udee0\ufe0f",date:"2023-02-21T00:00:00.000Z",formattedDate:"February 21, 2023",tags:[{label:"Web3",permalink:"/blog/tags/web-3"},{label:"Developer",permalink:"/blog/tags/developer"},{label:"Blockchain Development",permalink:"/blog/tags/blockchain-development"},{label:"Web3 Notifications",permalink:"/blog/tags/web-3-notifications"}],readingTime:4.96,hasTruncateMarker:!0,authors:[{name:"Push Protocol",url:"https://push.org",imageURL:"/assets/blog/authors/authorpush.png",key:"push"}],frontMatter:{slug:"getting-started-with-push-sdk-uiweb-api",title:"Getting Started With Push SDK: uiweb API\ud83d\udee0\ufe0f",authors:["push"],image:"./cover-image.webp",tags:["Web3","Developer","Blockchain Development","Web3 Notifications"]},prevItem:{title:"Push @ETHDenver Full Itinerary \ud83c\udf04",permalink:"/blog/push-eth-denver-full-itinerary"},nextItem:{title:"Empower Your Wallet, App, or Platform with Push Delivery Nodes\u26a1",permalink:"/blog/empower-your-wallet-app-or-platform-with-push-delivery-nodes"}},p={image:n(41997).Z,authorsImageUrls:[void 0]},u=[{value:"Components",id:"components",level:2},{value:"NotificationItem",id:"notificationitem",level:3},{value:"Putting it all together",id:"putting-it-all-together",level:2},{value:"About Push Protocol",id:"about-push-protocol",level:3}],h={toc:u},m="wrapper";function f(t){var e=t.components,s=(0,o.Z)(t,l);return(0,a.kt)(m,(0,i.Z)({},h,s,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Cover image of Getting Started With Push SDK: uiweb API\ud83d\udee0\ufe0f",src:n(41997).Z,width:"1400",height:"735"})),(0,a.kt)("p",null,"The ",(0,a.kt)("b",null,"@pushprotocol/uiweb")," package is a collection of React components for building dApps that interact with the Push Protocol. It includes components for rendering notifications, spam notifications, and forms for subscribing and unsubscribing to spam notification channels."),(0,a.kt)("p",null,"In this blog post, we'll take a closer look at the components included in the ",(0,a.kt)("b",null,"@pushprotocol/uiweb")," package and how you can use them in your dApp."),(0,a.kt)("h2",{id:"components"},"Components"),(0,a.kt)("h3",{id:"notificationitem"},"NotificationItem"),(0,a.kt)("p",null,"This component displays a single notification item. It takes the following props:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"notificationTitle")," (string): The title of the notification."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"notificationBody")," (string): The body of the notification."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"app")," (string): The name of the app that sent the notification."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"icon")," (string): The URL of an icon to display next to the notification title."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"image")," (string): The URL of an image to display in the notification."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"url")," (string): The URL to open when the notification is clicked."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"theme")," (string): The theme to use for the notification. Possible values are 'light' and 'dark'."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"chainName"),' (string): The name of the blockchain the notification was sent on. Possible values are "ETH_TEST_GOERLI", "POLYGON_TEST_MUMBAI\u201d.'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"isSpam")," (boolean, optional): Set to true if the notification is spam."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"subscribeFn"),' (function, optional): A function to call when the user clicks the "Opt-in" button on a spam notification.'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"isSubscribedFN")," (function, optional): A function that returns a boolean indicating whether the user is subscribed to the spam notification's channel.")),(0,a.kt)("p",null,"Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import { NotificationItem } from "@pushprotocol/uiweb";\n\nfunction MydApp() {\n  const notifications = [\n    {\n      title: "Notification 1",\n      message: "This is the first notification",\n      app: "My App",\n      icon: "https://my-app.com/icon.png",\n      image: "https://my-app.com/image.png",\n      url: "https://my-app.com/notification-1",\n      blockchain: "ETH_TEST_GOERLI"\n    },\n    {\n      title: "Notification 2",\n      message: "This is the second notification",\n      app: "My App",\n      icon: "https://my-app.com/icon.png",\n      image: "https://my-app.com/image.png",\n      url: "https://my-app.com/notification-2",\n      blockchain: "ETH_TEST_GOERLI"\n    }\n  ];\n\n  return (\n    <div>\n      {notifications.map((notification, i) => (\n        <NotificationItem\n          key={i}\n          notificationTitle={notification.title}\n          notificationBody={notification.message}\n          app={notification.app}\n          icon={notification.icon}\n          image={notification.image}\n          url={notification.url}\n          theme={{ background: "blue", color: "white" }}\n          chainName={notification.blockchain}\n        />\n      ))}\n    </div>\n  );\n}\n\n')),(0,a.kt)("p",null,"The ",(0,a.kt)("b",null,"Notification Item")," component can also be used to render spam notifications. To get the spam data, you can use the ",(0,a.kt)("b",null,"PushAPI.user.getFeeds() ")," method with the ",(0,a.kt)("b",null,"spam")," parameter set to ",(0,a.kt)("b",null,"true"),"."),(0,a.kt)("p",null,"The ",(0,a.kt)("b",null,"NotificationItem")," component is a general-purpose component that can be used to render any type of notification item, including spam notifications. It accepts props such as ",(0,a.kt)("b",null,"notificationTitle, notificationBody, cta, app, icon, image,")," and ",(0,a.kt)("b",null,"url")," to customize the appearance and behavior of the component."),(0,a.kt)("p",null,"The ",(0,a.kt)("b",null,"Spam")," component is a specialized variant of the ",(0,a.kt)("b",null,"NotificationItem")," component that is specifically designed for rendering spam notifications. It includes additional props such as ",(0,a.kt)("b",null,"isSpam, subscribeFn,")," and ",(0,a.kt)("b",null,"isSubscribedFn")," that allow the user to interact with the spam notification channel. It also includes an unsubscribe form that is displayed if the user is subscribed to the spam notification channel."),(0,a.kt)("p",null,"You can use the ",(0,a.kt)("b",null,"PushAPI.user.getFeeds()")," method with the ",(0,a.kt)("b",null,"spam")," parameter set to ",(0,a.kt)("b",null,"true")," to get the spam data. Here's an example of how you can use it:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const spams = await PushAPI.user.getFeeds({\n  user: 'eip155:5:0xD8634C39BBFd4033c0d3289C4515275102423681',\n  spam: true,\n  env: 'staging'\n});\n")),(0,a.kt)("p",null,"To render the ",(0,a.kt)("b",null,"Notification Item")," component for each spam notification, you'll need to pass in the additional props ",(0,a.kt)("b",null,"isSpam, subscribeFn,")," and ",(0,a.kt)("b",null,"isSubscribedFn")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"isSpam: A boolean value indicating whether the notification is a spam notification"),(0,a.kt)("li",{parentName:"ul"},"subscribeFn: A function that opts the user in to the spam notification's channel"),(0,a.kt)("li",{parentName:"ul"},"isSubscribedFn: A function that returns a boolean value indicating whether the user is subscribed to the spam notification's channel\nHere\u2019s an example of how you can render the Notification Item component for each spam notification:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"{spams.map((oneNotification, i) => {\n  const { \n    cta,\n    title,\n    message,\n    app,\n    icon,\n    image,\n    url,\n    blockchain,\n    secret,\n    notification\n  } = oneNotification;\n\nreturn (\n    <NotificationItem\n      key={`spam-${i}`}\n      notificationTitle={title}\n      notificationBody={message}\n      cta={cta}\n      app={app}\n      icon={icon}\n      image={image}\n      url={url}\n      theme={theme}\n      chainName={blockchain}\n      isSpam={true}\n      subscribeFn={subscribeFn}\n      isSubscribedFn={isSubscribedFn}\n    />\n  );\n})}\n")),(0,a.kt)("p",null,"To implement the ",(0,a.kt)("b",null,"subscribeFn")," and ",(0,a.kt)("b",null,"isSubscribedFn")," functions, you can use the ",(0,a.kt)("b",null,"PushAPI.channel.subscribe()")," and ",(0,a.kt)("b",null,"PushAPI.channel.subscribe()")," methods from @pushprotocol/restapi package, respectively."),(0,a.kt)("p",null,"For examples on how you can implement these functions, check out ",(0,a.kt)("a",{parentName:"p",href:"https://medium.com/push-protocol/getting-started-with-push-sdk-rest-api-%EF%B8%8F-821e5b8389cc"},"PUSH-SDK Rest API blog post")," we recently published."),(0,a.kt)("p",null,"Here\u2019s an example of how you can implement these functions:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"await PushAPI.channels.subscribe({\n  signer: _signer,\n  user: 'eip155:5:0xD8634C39BBFd4033c0d3289C4515275102423681',\n  channel: 'eip155:5:0xD8634C39BBFd4033c0d3289C4515275102423681',\n    env: 'staging'\n});\n\nconst subscriptions = await PushAPI.user.getSubscriptions({\n  user: 'eip155:5:0xD8634C39BBFd4033c0d3289C4515275102423681',\n  env: 'staging'\n});\n")),(0,a.kt)("h2",{id:"putting-it-all-together"},"Putting it all together"),(0,a.kt)("p",null,"Here is an example using ",(0,a.kt)("b",null,"subscribeFn")," that demonstrates the ",(0,a.kt)("b",null,"uiweb")," components used together."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import React, { useState, useEffect } from \"react\";\nimport { NotificationItem, chainNameType } from \"@pushprotocol/uiweb\";\n\nfunction MydApp() {\n  const [notifications, setNotifications] = useState([]);\n  useEffect(() => {\n    const fetchNotifications = async () => {\n      // fetch user notifications using the PushAPI\n      const notifications = await PushAPI.user.getFeeds({\n        user: 'eip155:5:0xD8634C39BBFd4033c0d3289C4515275102423681', // user address in CAIP\n        env: 'staging'\n      });\n      setNotifications(notifications);\n    };\n    fetchNotifications();\n  }, []);\n  return (\n    <div>\n      <h1>MydApp</h1>\n      <h2>Notifications</h2>\n      {notifications.map((notification, i) => {\n        const {\n          title,\n          message,\n          app,\n          icon,\n          image,\n          url,\n          blockchain\n        } = notification;\n        return (\n          <NotificationItem\n            key={i}\n            notificationTitle={title}\n            notificationBody={message}\n            app={app}\n            icon={icon}\n            image={image}\n            url={url}\n            theme={theme}\n            chainName={blockchain as chainNameType}\n          />\n        );\n      })}\n    </div>\n  );\n}\n")),(0,a.kt)("b",null,"MydApp")," is a component that renders a list of notifications and spam notifications, as well as a form for subscribing to or unsubscribing from spam notifications. It uses the following components from the ",(0,a.kt)("b",null,"@pushprotocol/uiweb")," package:",(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"NotificationItem:")," A React component for rendering a single notification item."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"Spam:")," A React component for rendering a single spam notification item, with options for subscribing or unsubscribing to the spam notification channel."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"Subscribe:")," A React component for rendering a form for subscribing to a spam notification channel."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"Unsubscribe:")," A React component for rendering a form for unsubscribing from a spam notification channel.")),(0,a.kt)("b",null,"MydApp")," uses the ",(0,a.kt)("b",null,"useState")," and ",(0,a.kt)("b",null,"useEffect")," Hooks to fetch and display the user's notifications and spam notifications using the ",(0,a.kt)("b",null,"PushAPI"),". It also defines event handlers for subscribing to and unsubscribing from spam notifications.",(0,a.kt)("b",null,"MydApp")," returns a JSX element that contains the following elements:",(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"A ",(0,a.kt)("b",null,"div")," element with a ",(0,a.kt)("b",null,"h1")," element for the title of the application and a ",(0,a.kt)("b",null,"h2")," element for the section heading for the notifications."),(0,a.kt)("li",{parentName:"ul"},"A loop that renders a ",(0,a.kt)("b",null,"NotificationItem")," component for each notification in the ",(0,a.kt)("b",null,"notifications")," array."),(0,a.kt)("li",{parentName:"ul"},"A ",(0,a.kt)("b",null,"h2")," element for the section heading for the spam notifications."),(0,a.kt)("li",{parentName:"ul"},"A loop that renders a ",(0,a.kt)("b",null,"Spam")," component for each spam notification in the ",(0,a.kt)("b",null,"spamNotifications")," array."),(0,a.kt)("li",{parentName:"ul"},"A ",(0,a.kt)("b",null,"h2")," element for the section heading for the subscription form."),(0,a.kt)("li",{parentName:"ul"},"An ",(0,a.kt)("b",null,"Unsubscribe")," component if the user is subscribed to spam notifications, or a ",(0,a.kt)("b",null,"Subscribe")," component if the user is not subscribed to spam notifications.")),(0,a.kt)("p",null,"There are of course other React components that you can to compliment the uiweb API. For instance: the ",(0,a.kt)("b",null,"Feed "),"component is a container for displaying a list of notifications in a UI. It takes the following props:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"notifications (array of Notification objects): An array of notifications to be displayed in the feed. Each Notification object should have the following shape:"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"cta")," (string): The call-to-action text for the notification."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"title")," (string): The title of the notification."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"message")," (string): The body of the notification."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"app")," (string): The name of the app that sent the notification."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"icon")," (string): The URL of an icon to be displayed with the notification."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"image")," (string): The URL of an image to be displayed with the notification."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"url")," (string): The URL to be opened when the notification is clicked."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"blockchain")," (string): The name of the blockchain on which the notification was sent."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"theme"),"(Theme object): An object defining the colors and styles to be used in the feed. The Theme object should have the following shape:"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"background")," (string): The background color of the feed."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"color")," (string): The text color of the feed."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("b",null,"chainName")," (string): The name of the blockchain to be displayed in the feed.")),(0,a.kt)("p",null,"Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import NotificationItem from "@pushprotocol/uiweb/NotificationItem";\nimport Feed from "./Feed"; // User-implemented component\n\nconst notifications = [\n  {\n    cta: "Learn More",\n    title: "Notification 1",\n    message: "This is the first notification",\n    app: "My App",\n    icon: "<https://my-app.com/icon.png>",\n    image: "<https://my-app.com/image.png>",\n    url: "<https://my-app.com/notification-1>",\n    blockchain: "Ethereum"\n  },\n  {\n    cta: "Get Started",\n    title: "Notification 2",\n    message: "This is the second notification",\n    app: "My App",\n    icon: "<https://my-app.com/icon.png>",\n    image: "<https://my-app.com/image.png>",\n    url: "<https://my-app.com/notification-2>",\n    blockchain: "Ethereum"\n  }\n];\nfunction MydApp() {\n  return (\n    <Feed\n      notifications={notifications}\n      theme={{ background: "blue", color: "white" }}\n      chainName="Ethereum"\n    />\n  );\n}\n')),(0,a.kt)("p",null,"That\u2019s it! You now know how to use the components of the ",(0,a.kt)("b",null,"@pushprotocol/uiweb")," API to add push notification functionality to your application."),(0,a.kt)("p",null,"We\u2019ll cover the other parts of the SDK in the coming posts. More reference material is available in the ",(0,a.kt)("a",{parentName:"p",href:"https://docs.push.org/developers/developer-tooling/push-sdk"},"Push Protocol SDK documentation"),"."),(0,a.kt)("p",null,"In addition, try out the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/ethereum-push-notification-service/push-sdk-sandbox"},"Push SDK sandbox"),"."),(0,a.kt)("p",null,"Keep PUSHING! #PoweredbyPush"),(0,a.kt)("h3",{id:"about-push-protocol"},"About Push Protocol"),(0,a.kt)("p",null,"Push is the communication protocol of web3. Push protocol enables cross-chain notifications and messaging for dapps, wallets, and services tied to wallet addresses in an open, gasless, and platform-agnostic fashion. The open communication layer allows any crypto wallet /frontend to tap into the network and get the communication across."),(0,a.kt)("p",null,"To keep up-to-date with Push Protocol: ",(0,a.kt)("a",{parentName:"p",href:"https://push.org/"},"Website"),", ",(0,a.kt)("a",{parentName:"p",href:"https://twitter.com/pushprotocol"},"Twitter"),", ",(0,a.kt)("a",{parentName:"p",href:"https://t.me/epnsproject"},"Telegram"),", ",(0,a.kt)("a",{parentName:"p",href:"https://discord.gg/pushprotocol"},"Discord"),", ",(0,a.kt)("a",{parentName:"p",href:"https://www.youtube.com/c/EthereumPushNotificationService"},"YouTube"),", and ",(0,a.kt)("a",{parentName:"p",href:"https://linktr.ee/pushprotocol"},"Linktree"),"."))}f.isMDXComponent=!0},41997:function(t,e,n){e.Z=n.p+"assets/images/cover-image-46ba0bbb6bc69c7ef9eb465d55da5ff9.webp"}}]);